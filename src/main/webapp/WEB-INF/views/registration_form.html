<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <script type="text/javascript">
        window.onload = function () {
            document.getElementById("password").onchange = validatePassword;
            document.getElementById("confirmPassword").onchange = validatePassword;
        }
        function validatePassword(){
            var pass2=document.getElementById("confirmPassword").value;
            var pass1=document.getElementById("password").value;
            if(pass1!=pass2)
                document.getElementById("confirmPassword").setCustomValidity("Passwords Don't Match");
            else
                document.getElementById("confirmPassword").setCustomValidity('');
//empty string means no validation error
        }
    </script>
    <title>Registration Form</title>
</head>
<body>

<div th:if="${param.error}">
    Invalid username and password.
</div>
<div th:if="${param.logout}">
    You have been logged out.
</div>
<div align="center" class="w3-container w3-blue">
    <h3>Add new User:</h3>
    <span th:text="${message}" />
</div>
<div align="center">
    <form class="w3-container" th:action="@{/confirmPhoneNumber}" method="post">
        <table cellpadding="5">
            <tr><th> User name : </th>
                <td><input class="w3-input" type="text"  name="username" required
                           minlength="4"
                           maxlength="20"
                /></td>
            </tr>
            <tr><th> Password: </th>
                <td><input   type="password" placeholder="Password" name="password" id = "password"  class="w3-input"
                             required
                             minlength="5"
                             maxlength="20"
                             title="Enter an password consisting of 5-20 simbols"/></td>

            </tr>
            <tr><th> Confirm password: </th>
                <td><input   type="password" placeholder="Password" name="confirmPassword" id = "confirmPassword" class="w3-input" required/>
                </td>

            </tr>
            <tr><th> Phone number(UA): </th>
                <td>
                    <input  type="tel" placeholder="+380 (XX) XXX-XX-XX"  name="phoneNumber" id="phoneNumber" class="w3-input"
                            required
                            pattern="^\+?3?8?(0[5-9][0-9]\d{7})$"
                            title="Phone should be in format +380 (XX) XXX-XX-XX"
                    />

                </td>
            </tr>

            <tr>
                <td colspan="2" align="center">
                    <button class="w3-btn w3-blue w3-round-medium" type="submit">Sign In</button>
                </td>
            </tr>
        </table>
    </form>
</div>
</body>
</html>








